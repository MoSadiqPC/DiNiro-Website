{% extends 'layout.html' %}
{% block title %}{{ get_text('admin_profile') }} - DI NIRO{% endblock %}

{% block content %}
<div class="container dashboard">
    <div class="dashboard-header" style="margin-bottom: 2rem;">
        <h1>{{ get_text('admin_profile') }}</h1>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}{% for category, message in messages %}<div class="flash {{ category }}">{{ message }}</div>{% endfor %}{% endif %}
    {% endwith %}

    <div class="content-section">
        <h2>{{ get_text('update_profile') }}</h2>
        <form action="{{ url_for('admin_profile') }}" method="POST">
            <input type="hidden" name="action" value="update_profile">
            <div class="form-group">
                <label>{{ get_text('username') }}</label>
                <input type="text" name="username" value="{{ admin.username }}" required>
            </div>
            <button type="submit" class="submit-btn">{{ get_text('update_profile') }}</button>
        </form>
    </div>

    <div class="content-section">
        <h2>{{ get_text('change_password') }}</h2>
        <form action="{{ url_for('admin_profile') }}" method="POST">
            <input type="hidden" name="action" value="change_password">
            <div class="form-group">
                <label>{{ get_text('current_password') }}</label>
                <input type="password" name="current_password" required>
            </div>
            <div class="form-group">
                <label>{{ get_text('new_password') }}</label>
                <input type="password" name="new_password" required>
            </div>
            <button type="submit" class="submit-btn">{{ get_text('change_password') }}</button>
        </form>
    </div>
</div>
{% endblock %}